<% 
let action =""
let contect=""
let cardType=""
let method="post";

if(typeOf card !=="undefined"){
    action = `/${card.id}`;
    content = card.content;
    cardType =card.type;
    method = "put";
    }
%>

<form action ="/cards <%= action %>" method = "post" class="mt-3">
    <input type = "hidden" name = "_method" value="<% method %>">

    <div class ="mb-3">
        <label for ="content" class = "form-label"></label>
        <input type="text" class="form-control" id="content" name="content" required value="<% =content%>">
        </div>

        <div class="form-group mb-3">
            <label for="type" class="form-label">Type</label>
            <select id="type" name="type" class="form-select" required>
                <option>Please select the type</option>
                <% if(typeOf cardTypes !== undefined){%>
                <% cardTypes.forEach(function(type){%>
                    <% const selected = type ===cardType ? "selected" :""%>
                    <option value ="<%=type%>" <% =selected %>>
                        <%=type%>
                    </option>
                <%}) %>
                <%}%>
            </select>
        </div>
        <button type ="submit" class="btn btn-primary">Submit</button>
</form>